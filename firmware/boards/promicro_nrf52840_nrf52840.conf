#
# Pro Micro nRF52840 - OTA enabled via MCUboot (sysbuild handles bootloader)
#

# Disable nRF5 bootloader assumption - we use MCUboot from address 0x0
CONFIG_BOARD_HAS_NRF5_BOOTLOADER=n

# =============================================================================
# Power Optimization for Battery Operation
# =============================================================================

# Disable USB serial console (saves ~1-2mA constantly)
# For development with serial debug, comment out these 4 lines:
CONFIG_USB_DEVICE_STACK=n
CONFIG_SERIAL=n
CONFIG_CONSOLE=n
CONFIG_LOG=n

# Power management - enables sleep between Zigbee polls
CONFIG_PM=y

# RAM power down during sleep (significant power savings)
CONFIG_RAM_POWER_DOWN_LIBRARY=y

# =============================================================================
# Zigbee FOTA (OTA Updates)
# =============================================================================
CONFIG_ZIGBEE_FOTA=y
CONFIG_ZIGBEE_FOTA_HW_VERSION=1
CONFIG_ZIGBEE_FOTA_ENDPOINT=10
CONFIG_ZIGBEE_FOTA_COMMENT="LEDCopperV1"
CONFIG_ZIGBEE_FOTA_PROGRESS_EVT=y

# DFU support
CONFIG_DFU_TARGET=y
CONFIG_DFU_TARGET_MCUBOOT=y
CONFIG_STREAM_FLASH=y
CONFIG_IMG_MANAGER=y
CONFIG_IMG_ERASE_PROGRESSIVELY=y

# Image version (increment for each OTA release)
CONFIG_MCUBOOT_IMGTOOL_SIGN_VERSION="1.0.0"
